using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Partida
{
    class Program
    {
        static void Main(string[] args)
        {
            GerenciarPartidas partidas = new GerenciarPartidas();

            Partida p1 = new Partida(2, 2);
            Partida p2 = new Partida(5, 3);
            Partida p3 = new Partida(0, 0);

            //Grava as partidas na lista
            partidas.Adicionar(p1);
            partidas.Adicionar(p2);
            partidas.Adicionar(p3);

            Console.WriteLine("======================");
            Console.WriteLine("Total de Empates: " + partidas.TotalEmpates());
            Console.WriteLine("======================\n\n");

            Console.WriteLine(partidas.Listar());
            Console.WriteLine("Total de Partidas: "+partidas.TotalPartidas());
            Console.WriteLine("Percentual de vezes: "+partidas.Percentual());

            Console.ReadKey();
        }                
    }
    class Partida
    {
        private int golsVis;
        private int golslAnf;

        public Partida(int visitante, int anfitriao)
        {
            this.golslAnf = anfitriao;
            this.golsVis = visitante;
        }

        public string VerificaVencedor()
        {
            if (this.golsVis > this.golslAnf)
                return "Visitante";
            else if (this.golslAnf > this.golsVis)
                return "Anfitriao";
            else
                return "Empate";
        }

        public string Placar()
        {
            return golslAnf + "X" + golsVis;
        }
    }
    class GerenciarPartidas
    {
        List<Partida> lista = new List<Partida>();
        public void Adicionar(Partida p)
        {
            lista.Add(p);
        }
        public int TotalEmpates()
        {
            int total = 0;

            foreach (Partida p in lista)
            {
                if (p.VerificaVencedor().ToUpper().Equals("EMPATE"))
                {
                    total++;
                }
            }
            return total;
        }
        public string Listar()
        {
            string saida = "";

            foreach (Partida p in lista)
            {
                saida += p.Placar() + "\n\n";
            }
            return saida;
        }
        public int TotalPartidas()
        {
            return lista.Count;
        }
        public float Percentual()
        {
            int total = 0;

            foreach (Partida p in lista)
            {
                if (p.VerificaVencedor().ToUpper().Equals("ANFITRIAO"))
                {
                    total++;
                } 
            }
            return (total / TotalPartidas()) * 100;
        }
    }
}
